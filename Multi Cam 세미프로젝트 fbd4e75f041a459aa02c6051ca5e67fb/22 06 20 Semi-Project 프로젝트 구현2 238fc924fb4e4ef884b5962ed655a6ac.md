# 22.06.20 Semi-Project 프로젝트 구현2

<aside>
🔑 각자 맡은 역할내의 페이지 구성하기
1. 카트 페이지 기능 및 페이지 구성하기.
- Ajax이용 금액 합계 산정
- 수량만 폼으로 받아와 업데이트 진행
2. 주문 페이지 기능 및 페이지 구성하기.
- 주문자와 수령인 동일 체크 클릭시 이벤트 설정
- 폼 보내기
- 결제 API 생성
3. buyimpl로 넘겨서 sucess 페이지 만들기.

</aside>

## 1. 카트페이지 기능 및 페이지 구성

- Ajax이용 금액 합계 산정
    - 아직 단일 변수만 비동기식 연산 가능
    - Ajax에 배열을 데이터로 넣는 법을 연구 해야한다.
- 수량만 폼으로 받아와 업데이트 진행 (AJAX를 완료한 후 구현 가능)

## 2. 주문 페이지 기능 및 페이지 구성

- 주문자와 수령인 동일 체크 클릭시 이벤트 설정 (완료)
    - 고객의 value를 가져와 체크 클릭시 수령인 value를 수정해주어 처리한다.
- 주문 폼 보내기 (완료)
    - 해당 폼을 작성 후 컨펌을 보내면 결제 API가 뜨고, 결제가 성공하면 buyimpl로 넘어가 ‘center’ 가 ‘success.html’로 보여진다.
- 결제 API생성 (미완)
    - 결제창을 띄우는것까지는 완료했지만, 각 데이터들의 값을 연결하여 구성하는 것은 미완
    - 아임포트를 사용하여 이니시스 결제를 통해 결제시스템을 구현한다.

## 3. buyimpl로 넘겨서 sucess 페이지 만들기.

- success페이지에서 주문상세 데이터를 얻기위해 등록한 마지막 id를 찾는다.
- buymapper.xml

```java
<select id="selectid" parameterType="int" resultType="int">
		SELECT MAX(id) FROM buy
	</select>
```

- 주문상세정보를 나열하고, 화면이 띄어짐과 동시에 주문상세 데이터가 데이터베이스에 들어간다.
- 이것도 마찬가지로 product와 상품갯수, 사이즈 등 여러개의 요소들이 삽입되있는 컬럼들을 어떻게 한 주문상세번호로 넣을지 고민해야함.
    - product와 상품갯수, 사이즈 등 여러개의 요소들이 삽입돼있는 컬럼들을 제거
    - 여러개의 요소들을 하나의 컬럼에 나열.